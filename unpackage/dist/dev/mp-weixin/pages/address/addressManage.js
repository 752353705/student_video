(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/addressManage"],{272:
/*!***************************************************************************************!*\
  !*** D:/myself/work/student_video/main.js?{"page":"pages%2Faddress%2FaddressManage"} ***!
  \***************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){i(/*! uni-pages */4);n(i(/*! vue */2));var t=n(i(/*! ./pages/address/addressManage.vue */273));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},273:
/*!********************************************************************!*\
  !*** D:/myself/work/student_video/pages/address/addressManage.vue ***!
  \********************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var n=i(/*! ./addressManage.vue?vue&type=template&id=428471f5& */274),s=i(/*! ./addressManage.vue?vue&type=script&lang=js& */276);for(var r in s)"default"!==r&&function(e){i.d(t,e,(function(){return s[e]}))}(r);i(/*! ./addressManage.vue?vue&type=style&index=0&lang=scss& */279);var a,o=i(/*! ../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */14),d=Object(o["default"])(s["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],a);d.options.__file="pages/address/addressManage.vue",t["default"]=d.exports},274:
/*!***************************************************************************************************!*\
  !*** D:/myself/work/student_video/pages/address/addressManage.vue?vue&type=template&id=428471f5& ***!
  \***************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,i){"use strict";i.r(t);var n=i(/*! -!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addressManage.vue?vue&type=template&id=428471f5& */275);i.d(t,"render",(function(){return n["render"]})),i.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]})),i.d(t,"recyclableRender",(function(){return n["recyclableRender"]})),i.d(t,"components",(function(){return n["components"]}))},275:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/myself/work/student_video/pages/address/addressManage.vue?vue&type=template&id=428471f5& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,i){"use strict";var n;i.r(t),i.d(t,"render",(function(){return s})),i.d(t,"staticRenderFns",(function(){return a})),i.d(t,"recyclableRender",(function(){return r})),i.d(t,"components",(function(){return n}));var s=function(){var e=this,t=e.$createElement;e._self._c},r=!1,a=[];s._withStripped=!0},276:
/*!*********************************************************************************************!*\
  !*** D:/myself/work/student_video/pages/address/addressManage.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var n=i(/*! -!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addressManage.vue?vue&type=script&lang=js& */277),s=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=s.a},277:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/myself/work/student_video/pages/address/addressManage.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(/*! ../../utils/util.js */237),s=i(/*! ../../utils/check.js */278),r={data:function(){return{address:{id:0,provinceId:0,cityId:0,areaId:0,address:"",name:"",mobile:"",isDefault:0,provinceName:"",cityName:"",areaName:""},addressId:0,openSelectRegion:!1,selectRegionList:[{id:0,name:"省份",pid:1,type:1},{id:0,name:"城市",pid:1,type:2},{id:0,name:"区县",pid:1,type:3}],regionType:1,regionList:[],selectRegionDone:!1}},onLoad:function(e){},methods:{bindinputMobile:function(e){var t=this.address;t.mobile=e.detail.value,this.address=t},bindinputName:function(e){var t=this.address;t.name=e.detail.value,this.address=t},bindinputAddress:function(e){var t=this.address;t.address=e.detail.value,this.address=t},bindIsDefault:function(){var e=this.address;e.isDefault=!e.isDefault,this.address=e},getAddressDetail:function(){var e=this;this.api._get("address/detail",{id:e.addressId},(function(t){0===t.errno&&t.data&&(e.address=t.data)}))},chooseRegion:function(){this.openSelectRegion=!this.openSelectRegion;var e=this.address;if(e.provinceId>0&&e.cityId>0&&e.areaId>0){var t=this.selectRegionList;t[0].id=e.provinceId,t[0].name=e.provinceName,t[0].pid=0,t[1].id=e.cityId,t[1].name=e.cityName,t[1].pid=e.provinceId,t[2].id=e.areaId,t[2].name=e.areaName,t[2].pid=e.cityId,this.selectRegionList=t,this.regionType=3,this.getRegionList(e.cityId)}else this.selectRegionList=[{id:0,name:"省份",pid:0,type:1},{id:0,name:"城市",pid:0,type:2},{id:0,name:"区县",pid:0,type:3}],this.regionType=1,this.getRegionList(0);this.setRegionDoneStatus()},getRegionList:function(e){var t=this,i=t.regionType;this.api._get("region/list",{pid:e},(function(e){0===e.errno&&(t.regionList=e.data.map((function(e){return i==e.type&&t.selectRegionList[i-1].id==e.id?e.selected=!0:e.selected=!1,e})))}))},setRegionDoneStatus:function(){var e=this,t=e.selectRegionList.every((function(e){return 0!=e.id}));e.selectRegionDone=t},selectRegion:function(e){var t=this,i=e.target.dataset.regionIndex;console.log("this.regionList",this.regionList,i);var n=this.regionList[i];console.log("regionItem",n);var s=n.type,r=this.selectRegionList;r[s-1]=n,3!=s?(this.selectRegionList=r,this.regionType=s+1,this.getRegionList(n.id)):this.selectRegionList=r,r.map((function(e,t){return t>s-1&&(e.id=0,e.name=1==t?"城市":"区县",e.pid=0),e})),this.selectRegionList=r,t.regionList=t.regionList.map((function(e){return t.regionType==e.type&&t.selectRegionList[t.regionType-1].id==e.id?e.selected=!0:e.selected=!1,e})),this.setRegionDoneStatus()},selectRegionType:function(e){var t=this,i=e.target.dataset.regionTypeIndex,n=t.selectRegionList;if(i+1==this.regionType||i-1>=0&&n[i-1].id<=0)return!1;this.regionType=i+1;var s=n[i];this.getRegionList(s.pid),this.setRegionDoneStatus()},doneSelectRegion:function(){if(!1===this.selectRegionDone)return!1;var e=this.address,t=this.selectRegionList;e.provinceId=t[0].id,e.cityId=t[1].id,e.areaId=t[2].id,e.provinceName=t[0].name,e.cityName=t[1].name,e.areaName=t[2].name,this.address=e,this.openSelectRegion=!1},cancelSelectRegion:function(){this.openSelectRegion=!1,this.regionType=this.regionDoneStatus?3:1},saveAddress:function(){var e=this.address;if(""==e.name)return n.showErrorToast("请输入姓名"),!1;if(""==e.mobile)return n.showErrorToast("请输入手机号码"),!1;if(0==e.areaId)return n.showErrorToast("请输入省市区"),!1;if(""==e.address)return n.showErrorToast("请输入详细地址"),!1;if(!s.isValidPhone(e.mobile))return n.showErrorToast("手机号不正确"),!1;this.api._post("address/save",{id:e.id,name:e.name,mobile:e.mobile,provinceId:e.provinceId,cityId:e.cityId,areaId:e.areaId,address:e.address,isDefault:e.isDefault},(function(e){if(0===e.errno){var t=getCurrentPages(),i=t[t.length-2];if(console.log(i),"pages/checkout/checkout"==i.route){i.addressId=e.data;try{wx.setStorageSync("addressId",e.data)}catch(n){}console.log("set address")}wx.navigateBack()}}))}}};t.default=r},279:
/*!******************************************************************************************************!*\
  !*** D:/myself/work/student_video/pages/address/addressManage.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var n=i(/*! -!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addressManage.vue?vue&type=style&index=0&lang=scss& */280),s=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);t["default"]=s.a},280:
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/myself/work/student_video/pages/address/addressManage.vue?vue&type=style&index=0&lang=scss& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,i){}},[[272,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/address/addressManage.js.map