{"version":3,"sources":["webpack:///C:/Users/75235/Desktop/工作交接/03小驴儿邦—创建大赛/student_video/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?3e0c","webpack:///C:/Users/75235/Desktop/工作交接/03小驴儿邦—创建大赛/student_video/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?626a","webpack:///C:/Users/75235/Desktop/工作交接/03小驴儿邦—创建大赛/student_video/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?cb03","webpack:///C:/Users/75235/Desktop/工作交接/03小驴儿邦—创建大赛/student_video/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?2c0c","uni-app:///components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue","webpack:///C:/Users/75235/Desktop/工作交接/03小驴儿邦—创建大赛/student_video/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?f95d","webpack:///C:/Users/75235/Desktop/工作交接/03小驴儿邦—创建大赛/student_video/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue?df6b"],"names":[],"mappings":"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CA,+BALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA,KA5LA;AA6LA;AACA,gBA9LA,wBA8LA,MA9LA,EA8LA;AACA;AACA;AACA,qBADA;AAEA;AACA;AACA;AACA,WALA;AAMA;AACA;AACA;AACA,WATA;;AAWA,OAZA;AAaA,KA5MA;AA6MA;AACA,aA9MA,uBA8MA;AACA;AACA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA,mBACA,GADA,EACA;AACA;AACA,iBAHA;;AAKA,aAPA,MAOA;AACA;AACA;AACA;AACA,yBADA,mBACA,GADA,EACA;AACA;AACA,mBAHA;;AAKA;AACA;AACA,WAnBA,MAmBA;AACA;AACA;AACA,SAzBA;;AA2BA;AACA;AACA,6BADA;AAEA,kBAFA;AAGA;AACA;AACA;AACA,sCADA;AAEA,mBAFA,mBAEA,GAFA,EAEA;AACA;AACA,+BADA;AAEA,+BAFA;AAGA,8BAHA;;AAKA;AACA;AACA,eAFA,EAEA,IAFA;AAGA,aAXA;;AAaA,SAlBA;AAmBA,UAnBA;AAoBA,KAhQA,EAjCA,E;;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAitC,CAAgB,krCAAG,EAAC,C;;;;;;;;;;;ACAruC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./zhangyu-qrcode-poster.vue?vue&type=template&id=1a399d58&scoped=true&\"\nvar renderjs\nimport script from \"./zhangyu-qrcode-poster.vue?vue&type=script&lang=js&\"\nexport * from \"./zhangyu-qrcode-poster.vue?vue&type=script&lang=js&\"\nimport style0 from \"./zhangyu-qrcode-poster.vue?vue&type=style&index=0&id=1a399d58&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a399d58\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue\"\nexport default component.exports","export * from \"-!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./zhangyu-qrcode-poster.vue?vue&type=template&id=1a399d58&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.isShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./zhangyu-qrcode-poster.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./zhangyu-qrcode-poster.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content\" v-if=\"isShow\" @click.stop=\"isShow=false\">\n\t\t<canvas @click.stop=\"\" :style=\"{ width: canvasW + 'px', height: canvasH + 'px' }\" canvas-id=\"my-canvas\"></canvas>\n\t\t<view v-if=\"canvasW\" class=\"save-btn\" @click.stop=\"saveImage\">\r\n\t\t\t保存图片并发布\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default{\n\t\tprops:{\n\t\t\theaderImg:{\n\t\t\t\ttype: String,\n\t\t\t\t// default: 'https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=3544005106,2960177055&fm=26&gp=0.jpg' //默认的图片\r\n\t\t\t\tdefault: '' //默认的图片\n\t\t\t},\n\t\t\ttitle:{\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '草莓千层蛋糕'\n\t\t\t},\n\t\t\tsubTitle:{\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '鲜嫩多汁的草莓融合香甜奶油'\n\t\t\t},\n\t\t\tprice:{\n\t\t\t\ttype: Number,\n\t\t\t\tdefault: 36.89\n\t\t\t},\n\t\t\tabImg:{\n\t\t\t\ttype: String,\n\t\t\t\tdefault: 'https://oss.zhangyubk.com/bottomab.png'\n\t\t\t}\n\t\t},\n\t\tdata(){\n\t\t\treturn {\n\t\t\t\tcanvasW: 0,\n\t\t\t\tcanvasH: 0,\n\t\t\t\tctx: null,\n\t\t\t\tisShow: false,\n\t\t\t\tqrcode: ''\n\t\t\t}\n\t\t},\n\t\tmethods:{\r\n\t\t\t// 在画布中绘制多行文本\r\n\t\t\t/**\r\n\t\t\t\t* str:要绘制的字符串\r\n\t\t\t\t*canvas:canvas对象\r\n\t\t\t\t*initX:绘制字符串起始x坐标\r\n\t\t\t\t*initY:绘制字符串起始y坐标\r\n\t\t\t\t*lineHeight:字行高，自己定义个值即可\r\n\t\t\t\t*maxWidth: 文本最大宽度\r\n\t\t\t\t*row: 最大行数\r\n\t\t\t * */\r\n\t\t\t\tcanvasTextAutoLine(str, ctx, initX, initY, style, font, lineHeight, maxWidth, row) {\r\n\t\t\t\t\tvar lineWidth = 0;\r\n\t\t\t\t\tvar lastSubStrIndex = 0;\r\n\t\t\t\t\tctx.setFontSize(font);\r\n\t\t\t\t\tctx.setFillStyle(style);\r\n\t\t\t\t\tctx.setTextAlign(\"left\");\r\n\t\t\t\t\tvar currentRow = 1;\r\n\t\t\t\t\tmaxWidth = Math.ceil(maxWidth);\r\n\t\t\t\t\tfor (let i = 0; i < str.length; i++) {\r\n\t\t\t\t\t\tlineWidth += ctx.measureText(str[i]).width;\r\n\t\t\t\t\t\tif (lineWidth > maxWidth) {\r\n\t\t\t\t\t\t\tcurrentRow++;\r\n\t\t\t\t\t\t\tlet newStr = str.substring(lastSubStrIndex, i + 1)\r\n\t\t\t\t\t\t\tif (currentRow > row && str.length > i) {\r\n\t\t\t\t\t\t\t\tnewStr = str.substring(lastSubStrIndex, i - 2) + '...'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tctx.fillText(newStr, initX, initY);\r\n\t\t\t\t\t\t\tinitY += lineHeight;\r\n\t\t\t\t\t\t\tlineWidth = 0;\r\n\t\t\t\t\t\t\tlastSubStrIndex = i + 1;\r\n\t\t\t\t\t\t\tif (currentRow > row) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (i == str.length - 1) {\r\n\t\t\t\t\t\t\tctx.fillText(str.substring(lastSubStrIndex, i + 1), initX, initY);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\n\t\t\t//显示\n\t\t\tshowCanvas(qrcode){\n\t\t\t\tthis.isShow = true\n\t\t\t\tthis.qrcode = qrcode\n\t\t\t\tthis.__init()\n\t\t\t},\n\t\t\t//初始化画布\n\t\t\tasync __init(){\n\t\t\t\tuni.showLoading({\n\t\t\t\t    title: '加载中...',\n\t\t\t\t\tmask: true\n\t\t\t\t})\n\t\t\t\tthis.ctx = uni.createCanvasContext('my-canvas',this)\r\n\t\t\t\t//设置画布背景透明\n\t\t\t\tthis.ctx.setFillStyle('rgba(255, 255, 255, 0)')\n\t\t\t\t//设置画布大小\r\n\t\t\t\tthis.canvasW = uni.upx2px(550);\r\n\t\t\t\tthis.canvasH = uni.upx2px(600);\n\t\t\t\tthis.ctx.fillRect(0,0,this.canvasW,this.canvasH)\n\t\t\t\t//绘制圆角背景\n\t\t\t\tthis.drawRoundRect(this.ctx, 0, 0, this.canvasW, this.canvasH,uni.upx2px(18),'#FFFFFF')\r\n\t\t\t\t\n\t\t\t\t//获取标题图片  ==>  换成视频当前的截图\n\t\t\t\tlet headerImg = await this.getImageInfo(this.headerImg)\n\t\t\t\tlet hW = uni.upx2px(430);\n\t\t\t\tlet hH = uni.upx2px(430);\n\t\t\t//绘制标题图   ==》 绘制 视频 封面图\n\t\t\t\tthis.drawRoundImg(this.ctx,headerImg.path,((this.canvasW-hW) / 2),((this.canvasW-hW) / 2),hW,hH,uni.upx2px(16))\n\t\t\t//绘制标题  ==》 绘制 视频 的简介说明\r\n\t\t\t\t// this.ctx.setFontSize(14); //设置标题字体大小\n\t\t\t\t// this.ctx.setFillStyle('#000000'); //设置标题文本颜色\n\t\t\t\t// this.ctx.fillText('当前视频的简介展示介展示介展示介展示介展示介展示展示介展示展示介展示展示介展示',((this.canvasW-hW) / 2),(\n\t\t\t\t// ((this.canvasW-hW) / 2) + hH + uni.upx2px(60)),hW )\r\n\t\t\t\t// (str, ctx, initX, initY, style, font, lineHeight, maxWidth, row)\r\n\t\t\t\tthis.canvasTextAutoLine(\r\n\t\t\t\t\t'长按关注公众号，进行充值',\r\n\t\t\t\t\tthis.ctx,((this.canvasW-hW) / 2),(((this.canvasW-hW) / 2) + hH + uni.upx2px(60)),'#000000',\r\n\t\t\t\t\t14,20,hW,3\r\n\t\t\t\t)\r\n\t\t\t\t//绘制副标题\n\t\t\t\t// this.ctx.setFontSize(14);\n\t\t\t\t// this.ctx.setFillStyle('#858585');\n\t\t\t\t// let sWidth = this.ctx.measureText(this.subTitle).width\n\t\t\t\t// if(sWidth > hW){\n\t\t\t\t// \tthis.ctx.fillText(this.subTitle.slice(0,17) + '...',((this.canvasW-hW) / 2),(\n\t\t\t\t// \t((this.canvasW-hW) / 2) + hH + uni.upx2px(110)))\n\t\t\t\t// }else{\n\t\t\t\t// \tthis.ctx.fillText(this.subTitle,((this.canvasW-hW) / 2),(\n\t\t\t\t// \t((this.canvasW-hW) / 2) + hH + uni.upx2px(110)))\n\t\t\t\t// }\n\t\t\t\t//绘制价格\n\t\t\t\t// this.ctx.setFontSize(14);\n\t\t\t\t// this.ctx.setFillStyle('#f54545');\n\t\t\t\t// this.ctx.fillText('￥',((this.canvasW-hW) / 2),(\n\t\t\t\t// ((this.canvasW-hW) / 2) + hH + uni.upx2px(180)))\n\t\t\t\t// this.ctx.setFontSize(18);\n\t\t\t\t// this.ctx.fillText(this.price,(((this.canvasW-hW) / 2) + uni.upx2px(36)),(\n\t\t\t\t// ((this.canvasW-hW) / 2) + hH + uni.upx2px(180)))\n\t\t\t\t//绘制虚线\n\t\t\t\t// this.drawDashLine(this.ctx,uni.upx2px(20),(((this.canvasW-hW) / 2) + hH + uni.upx2px(240)) - 25,(this.canvasW-uni.upx2px(20)),(((this.canvasW-hW) / 2) + hH + uni.upx2px(240)) - 25,5)\n\t\t\t\t//左边实心圆\n\t\t\t\t// this.drawEmptyRound(this.ctx,0,(((this.canvasW-hW) / 2) + hH + uni.upx2px(240)) - 25,uni.upx2px(20))\n\t\t\t\t//右边实心圆\n\t\t\t\t// this.drawEmptyRound(this.ctx,this.canvasW,(((this.canvasW-hW) / 2) + hH + uni.upx2px(240)) - 25,uni.upx2px(20))\n\t\t\t\t//提示文案\n\t\t\t\t// this.ctx.setFontSize(12);\n\t\t\t\t// this.ctx.setFillStyle('#858585');\n\t\t\t\t// this.ctx.fillText(\r\n\t\t\t\t// \t// '长按识别图中\"学声汇\"小程序',\r\n\t\t\t\t// \t(((this.canvasW-hW) / 2) + uni.upx2px(34)),\r\n\t\t\t\t// \t(((this.canvasW-hW) / 2) + hH + uni.upx2px(300))\r\n\t\t\t\t// )\n\t\t\t\t//底部广告\n\t\t\t\t// let BottomAdImg = await this.getImageInfo(this.abImg)\n\t\t\t\t// this.ctx.drawImage(BottomAdImg.path,(((this.canvasW-hW) / 2)),(((this.canvasW-hW) / 2) + hH + uni.upx2px(310)),uni.upx2px(350),uni.upx2px(110))\n\t\t\t\t// //小程序码\n\t\t\t\t// let qrcodeImg = await this.getImageInfo(this.qrcode)\r\n\t\t\t\t// console.log('小程序码',qrcodeImg)                               //   Y 坐标\n\t\t\t\t// this.ctx.drawImage(qrcodeImg.path,uni.upx2px(384) ,(((this.canvasW-hW) / 2) + hH + uni.upx2px(264)) - 20, uni.upx2px(156), uni.upx2px(156))\n\t\t\t\t// //延迟渲染\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.ctx.draw(true,()=>{\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 然后关闭分享的弹窗\r\n\t\t\t\t\t\tthis.$emit(\"close\")\n\t\t\t\t\t})\n\t\t\t\t},500)\n\t\t\t},\n\t\t\t//绘制实心圆\n\t\t\tdrawEmptyRound(ctx,x,y,radius){\n\t\t\t\tctx.save()\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, radius, 0, 2 * Math.PI,true);\n\t\t\t\tctx.setFillStyle('rgba(0, 0, 0, .4)')\n\t\t\t\tctx.fill();\n\t\t\t\tctx.restore()\n\t\t\t\tctx.closePath()\n\t\t\t},\n\t\t\t//绘制虚线\n\t\t\tdrawDashLine(ctx,x1,y1,x2,y2,dashLength){\n\t\t\t\tctx.setStrokeStyle(\"#cccccc\")//设置线条的颜色\n\t\t\t\tctx.setLineWidth(1)//设置线条宽度\n\t\t\t\tvar dashLen = dashLength,\n\t\t\t\txpos = x2 - x1, //得到横向的宽度;\n\t\t\t\typos = y2 - y1, //得到纵向的高度;\n\t\t\t\tnumDashes = Math.floor(Math.sqrt(xpos * xpos + ypos * ypos) / dashLen); \n\t\t\t\t//利用正切获取斜边的长度除以虚线长度，得到要分为多少段;\n\t\t\t\tfor(var i=0; i<numDashes; i++){\n\t\t\t\t if(i % 2 === 0){\n\t\t\t\t\t ctx.moveTo(x1 + (xpos/numDashes) * i, y1 + (ypos/numDashes) * i); \n\t\t\t\t\t //有了横向宽度和多少段，得出每一段是多长，起点 + 每段长度 * i = 要绘制的起点；\n\t\t\t\t  }else{\n\t\t\t\t\t  ctx.lineTo(x1 + (xpos/numDashes) * i, y1 + (ypos/numDashes) * i);\n\t\t\t\t  }\n\t\t\t\t}\n\t\t\t\tctx.stroke();\n\t\t\t},\n\t\t\t//带圆角图片\n\t\t\tdrawRoundImg(ctx, img, x, y, width, height, radius){\n\t\t\t\tctx.beginPath()\n\t\t\t\tctx.save()\n\t\t\t\t// 左上角\n\t\t\t\tctx.arc(x + radius, y + radius, radius, Math.PI, Math.PI * 1.5)\n\t\t\t\t// 右上角\n\t\t\t\tctx.arc(x + width - radius, y + radius, radius, Math.PI * 1.5, Math.PI * 2)\n\t\t\t\t// 右下角\n\t\t\t\tctx.arc(x + width - radius, y + height - radius, radius, 0, Math.PI * 0.5)\n\t\t\t\t// 左下角\n\t\t\t\tctx.arc(x + radius, y + height - radius, radius, Math.PI * 0.5, Math.PI)\n\t\t\t\tctx.stroke()\n\t\t\t\tctx.clip()\n\t\t\t\tctx.drawImage(img, x, y, width, height);\n\t\t\t\tctx.restore()\n\t\t\t\tctx.closePath()\n\t\t\t},\n\t\t\t//圆角矩形\n\t\t\tdrawRoundRect(ctx, x, y, width, height, radius, color){\n\t\t\t\tctx.save();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.setFillStyle(color); \n\t\t\t\tctx.setStrokeStyle(color)\n\t\t\t\tctx.setLineJoin('round');  //交点设置成圆角\n\t\t\t\tctx.setLineWidth(radius);\n\t\t\t\tctx.strokeRect(x + radius/2, y + radius/2, width - radius , height - radius );\n\t\t\t\tctx.fillRect(x + radius, y + radius, width - radius * 2, height - radius * 2);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.closePath();\n\t\t\t},\n\t\t\t//获取图片\n\t\t\tgetImageInfo(imgSrc){\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\tsrc: imgSrc,\n\t\t\t\t\t\tsuccess: (image) => {\n\t\t\t\t\t\t\tresolve(image);\n\t\t\t\t\t\t\tconsole.log('获取图片成功',image)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\tconsole.log('获取图片失败',err)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\t//保存图片到相册\n\t\t\tsaveImage(){\n\t\t\t\t//判断用户授权\n\t\t\t\tuni.getSetting({\n\t\t\t\t   success(res) {\n\t\t\t\t      console.log('获取用户权限',res.authSetting)\n\t\t\t\t\t  if(Object.keys(res.authSetting).length>0){\n\t\t\t\t\t\t  //判断是否有相册权限\n\t\t\t\t\t\t  if(res.authSetting['scope.writePhotosAlbum']==undefined){\n\t\t\t\t\t\t\t  //打开设置权限\n\t\t\t\t\t\t\t  uni.openSetting({\n\t\t\t\t\t\t\t    success(res) {\n\t\t\t\t\t\t\t      console.log('设置权限',res.authSetting)\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t  }else{\n\t\t\t\t\t\t\t  if(!res.authSetting['scope.writePhotosAlbum']){\n\t\t\t\t\t\t\t\t  //打开设置权限\n\t\t\t\t\t\t\t\t  uni.openSetting({\n\t\t\t\t\t\t\t\t    success(res) {\n\t\t\t\t\t\t\t\t      console.log('设置权限',res.authSetting)\n\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t  }\n\t\t\t\t\t  }else{\n\t\t\t\t\t\t  return\n\t\t\t\t\t  }\n\t\t\t\t   }\n\t\t\t\t})\n\t\t\t\tvar that = this\n\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\tcanvasId: 'my-canvas',\n\t\t\t\t\tquality: 1,\n\t\t\t\t\tcomplete: (res) => {\n\t\t\t\t\t\tconsole.log('保存到相册',res);\n\t\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\t\tfilePath: res.tempFilePath,\n\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '已保存到相册',\n\t\t\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\tthat.isShow = false\n\t\t\t\t\t\t\t\t},2000)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},this);\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n.content{\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(0,0,0,.4);\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\r\n\tz-index: 20;\n\t.save-btn{\n\t\tmargin-top: 35rpx;\n\t\tcolor: #FFFFFF;\n\t\tbackground: linear-gradient(to right, #FE726B , #FE956B);\n\t\tpadding: 15rpx 40rpx;\n\t\tborder-radius: 50rpx;\n\t}\n}\n</style>\n","import mod from \"-!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./zhangyu-qrcode-poster.vue?vue&type=style&index=0&id=1a399d58&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\uniapp\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./zhangyu-qrcode-poster.vue?vue&type=style&index=0&id=1a399d58&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1613995118412\n      var cssReload = require(\"D:/uniapp/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}