{"version":3,"sources":["webpack:///D:/myself/work/student_video/components/like-button/like-button.vue?0af5","webpack:///D:/myself/work/student_video/components/like-button/like-button.vue?c399","webpack:///D:/myself/work/student_video/components/like-button/like-button.vue?9d9f","webpack:///D:/myself/work/student_video/components/like-button/like-button.vue?f842","uni-app:///components/like-button/like-button.vue","webpack:///D:/myself/work/student_video/components/like-button/like-button.vue?1560"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;2DAAA,2RACIA,EADJ,kKASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,yCACZ,aAAAF,E;;;;2GCvBf,8lC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,iuBAA0qB,eAAG,G;;;;gJCmC7qB,CACE,MAAF,CACI,IAAJ,CACM,KAAN,OACM,QAAN,2BAEI,SAAJ,CACM,KAAN,MACM,QAAN,WACQ,MAAR,CACQ,0BACA,6BAIJ,SAAJ,CACM,KAAN,OACM,QAAN,KAEI,MAAJ,CACM,KAAN,OACM,QAAN,IAEI,KAAJ,CACM,KAAN,OACM,QAAN,KAEI,MAAJ,CACM,KAAN,eACM,QAAN,IAEI,OAAJ,CACM,KAAN,eACM,QAAN,IAEI,SAAJ,CACM,KAAN,eACM,QAAN,KAEI,UAAJ,CACM,KAAN,eACM,QAAN,KAEI,SAAJ,CACM,KAAN,OACM,QAAN,KAEI,KAAJ,CACM,KAAN,cACM,QAAN,WACQ,MAAR,eAGI,MAAJ,CACM,KAAN,iBACM,SAAN,GAEI,MAAJ,CACM,KAAN,QACM,SAAN,IAGA,KA9DA,WA+DA,OACA,YACM,KAAN,EACA,UACM,MAAN,OAGA,SACA,YADA,SACA,cACA,8BAKM,QAAN,iDAEM,IAAN,2BACA,+BACM,KAAN,oBACM,IAAN,KAKA,iDACA,GACA,8BACA,qBACA,YACA,sCACA,+BAEM,QAAN,gBAEM,IAAN,WACA,qBACA,6BAEA,YACA,sBAEM,EAAN,6BACQ,SAAR,cACQ,eAAR,aAEM,YAAN,WAKQ,GAJA,QAAR,2BAEQ,EAAR,kBAEA,sCAEQ,aAAR,SACQ,EAAR,6BACU,EAAV,cACA,cACA,eAGM,YAAN,WACQ,IAAR,IACA,iDAEQ,EAAR,oEACQ,EAAR,iCA2BA,KAEM,KAAN,kC;;;;2DC/LA,qwCAAutC,eAAG,G","file":"components/like-button/like-button.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./like-button.vue?vue&type=template&id=663ca2d6&\"\nvar renderjs\nimport script from \"./like-button.vue?vue&type=script&lang=js&\"\nexport * from \"./like-button.vue?vue&type=script&lang=js&\"\nimport style0 from \"./like-button.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/like-button/like-button.vue\"\nexport default component.exports","export * from \"-!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./like-button.vue?vue&type=template&id=663ca2d6&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./like-button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./like-button.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- style=\"width: 375px;height: 667px;position: absolute;top: 0;left: 0;\" -->\r\n  <view class=\"like-button\" >\r\n\t\t<!-- 动画效果 -->\r\n    <view class=\"animate-wrap\">\r\n      <view\r\n        class=\"a-img\" \r\n        v-for=\"(item,index) in viewList\" \r\n        :key=\"item.elId\" \r\n        :ref=\"item.elId\"\r\n        :style=\"{\r\n          'left': site.x || site[0] + 'px',\r\n          'top': site.y || site[1] + 'px'\r\n        }\">\r\n        <image :style=\"{\r\n          'width': imgWidth + 'px',\r\n          'height': imgHeight + 'px'\r\n        }\" mode=\"widthFix\" :src=\"item.src\" :animation=\"item.animation\"></image>\r\n      </view>\r\n    </view>\r\n\t\t\r\n   <view class=\"on-button\">\r\n     <image :src=\"src\" mode=\"widthFix\" :style=\"{\r\n        'width': width + 'rpx',\r\n        'height': height + 'rpx'\r\n      }\" v-if=\"!$slots.default\" @click=\"handleClick\"></image>\r\n      <view class=\"el_like_btn\" @click=\"handleClick\">\r\n        <slot></slot>\r\n      </view>\r\n    </view>\r\n  </view>\r\n  \r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n    props: {\r\n      src: {\r\n        type: String,\r\n        default: '/static/like_active.png'\r\n      },\r\n      showImgs: { // 显示图标路径\r\n        type: Array,\r\n        default: () => {\r\n          return [\r\n            '/static/like_active.png',\r\n            '/static/like_active.png',\r\n          ]\r\n        }\r\n      },\r\n      duration: { // 动画效果时间\r\n        type: Number,\r\n        default: 2000\r\n      },\r\n      range: { // x 间隔幅度\r\n        type: Number,\r\n        default: 10\r\n      },\r\n      high: {\r\n        type: Number,\r\n        default: 100\r\n      },\r\n      width: { // 图标宽度\r\n        type: Number || String,\r\n        default: 52\r\n      },\r\n      height: { // 图标高度\r\n        type: Number || String,\r\n        default: 52\r\n      },\r\n      imgWidth: { // 红心图片的宽度\r\n        type: Number || String,\r\n        default: 100\r\n      },\r\n      imgHeight: { // 红心图片的高度\r\n        type: Number || String,\r\n        default: 100\r\n      },\r\n      throttle: { // 点击节流 ms\r\n        type: Number,\r\n        default: 400\r\n      },\r\n      site: { // x y 坐标 [x<Number>, y<Number>]\r\n        type: Array || Object, \r\n        default: () => {\r\n          return [30, 160] || { x: 30, y: 160 }\r\n        }\r\n      },\r\n      large: { // 是否缩放冒泡\r\n        type: [Number, Boolean],\r\n        default: false\r\n      },\r\n      alone: {\r\n        type: Boolean,\r\n        default: true\r\n      }\r\n    },\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tviewList: [], // 渲染元素\r\n        elId: 0, // 元素渲染id\r\n\t\t\t\toldTime: 0, // 全局时间用于函数节流\r\n        timer: null // 定时器\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thandleClick (e) {\r\n\t\t\t\tconsole.log('触发 handleclick')\r\n\t\t\t\t\r\n\t\t\t\t// 定义红心出现的位置\r\n\t\t\t\t// this.$props.site = [e.detail.x,e.detail.y]\r\n\t\t\t\t\r\n        console.log('this.viewList.length',this.viewList.length)\r\n\t\t\t\t// 函数节流\r\n        let interval = e.timeStamp - this.oldTime\n\t\t\t\tif(interval < this.throttle) return null;\r\n        this.oldTime = e.timeStamp\r\n        let animation = {}\r\n        // 创建animate配置\r\n        // #ifdef APP-NVUE\n\t\t\t\tanimation = weex.requireModule('animation')\r\n        // #endif\n\t\t\t\tlet randomImg = Math.floor(Math.random() * this.showImgs.length)\n\t\t\t\tlet _item = {\n\t\t\t\t\telId: 'el_likeicon_' + this.elId, // 生成元素ref\n\t\t\t\t\tsrc: this.showImgs[randomImg],\t// 随机图标\n\t\t\t\t\tanimation: animation, // 每个盒子动画\n\t\t\t\t\tx: Math.ceil(Math.random() * this.range),\t// 方向间距\n\t\t\t\t\tq: Math.floor(Math.random() * 2), // 随机方向\n\t\t\t\t}\r\n        console.log('创建一个动画效果')\n\t\t\t\t// 动画\r\n        let _abs = ['-', '']\r\n        let _dirX = Number(_abs[_item.q] + _item.x)\t\t// 随机的方向和间距\r\n        let _dirY = this.high - Math.random() * 10\r\n        // 生成DOM\r\n\t\t\t\tthis.elId ++\n\t\t\t\tthis.viewList.push(_item)\r\n        // #ifndef APP-NVUE\r\n        _item.animation = uni.createAnimation({\n          duration: this.duration,\n          timingFunction: 'ease-out',\n        })\r\n        setTimeout(() => {\r\n          console.log('animation finished.')\r\n          // 完成后事件回调\r\n          this.$emit('finished')\r\n          // 逐渐消失\r\n          if (this.alone) return this.viewList.splice(0, 1);\r\n          // 完成动画后在n秒后清空\r\n          clearTimeout(this.timer)\r\n          this.timer = setTimeout(() => {\r\n            this.viewList = []\r\n          }, this.duration)\r\n        }, this.duration)\r\n        // #endif\r\n        // 执行动画\r\n        setTimeout(() => {\r\n          let _n = 1\r\n          if (this.large) _n = typeof(this.large) === 'number' ? this.large : 2;\r\n          // #ifndef APP-NVUE\r\n          _item.animation.translateY(-_dirY).translateX(_dirX).scale(_n, _n).opacity(0).step()\r\n          _item.animation = _item.animation.export()\r\n          // #endif\r\n          // #ifdef APP-NVUE\r\n          let el = this.$refs[_item.elId][0];\r\n          clearTimeout(this.timer)\r\n          _item.animation.transition(el, {\r\n            styles: {\r\n              transform: `translate(${_dirX}rpx, -${_dirY}rpx) scale(${_n}, ${_n}])`,\r\n              transformOrigin: 'center center',\r\n              opacity: 0\r\n            },\r\n            duration: this.duration, // ms\r\n            timingFunction: 'ease-out',\r\n            delay: 0 // ms\r\n          }, () => {\r\n            console.log('animation finished.')\r\n            // 完成后事件回调\r\n            this.$emit('finished')\r\n            // 逐渐消失\r\n            if (this.alone) return this.viewList.splice(0, 1);\r\n            // 完成动画后在n秒后清空\r\n            clearTimeout(this.timer)\n            this.timer = setTimeout(() => {\r\n              this.viewList = []\r\n            }, this.duration)\r\n          })\r\n          // #endif\r\n        }, 100)\r\n        // 点击立即触发组件事件\r\n        this.$emit('handleClick', this.elId)\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\n\t.a-img {\n\t\tposition: fixed;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./like-button.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./like-button.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}