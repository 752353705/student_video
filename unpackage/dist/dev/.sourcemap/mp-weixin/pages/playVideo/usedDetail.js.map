{"version":3,"sources":["webpack:///D:/myself/work/student_video/pages/playVideo/usedDetail.vue?8eb8","uni-app:///pages/playVideo/usedDetail.vue","webpack:///D:/myself/work/student_video/pages/playVideo/usedDetail.vue?0aef","uni-app:///main.js","webpack:///D:/myself/work/student_video/pages/playVideo/usedDetail.vue?cb59","webpack:///D:/myself/work/student_video/pages/playVideo/usedDetail.vue?ef5a","webpack:///D:/myself/work/student_video/pages/playVideo/usedDetail.vue?673a"],"names":["createPage","Page","renderjs","component","options","__file","components","uIcon","uniPopup","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;2DAAA,guBAAyqB,eAAG,G;;;;0ICsF5qB,I,qvCAUA,CACA,KADA,WAEA,OACA,OACA,MACA,UACA,QACA,kCACA,kBAEA,UAGA,YACA,aAGA,eAEA,aACA,YACA,SACA,gBAGA,YACA,cACA,gBACA,mBACA,aACA,gBAEA,OAhCA,SAgCA,GAGA,iCAEA,iBACA,+BAGA,4CACA,4CAGA,iBACA,mBACA,6CAGA,OAlDA,WAmDA,WACA,+BAEA,2CACA,UACA,YACA,8BAMA,QA/DA,WAgEA,0CAEA,eACA,UACA,CACA,eACA,eAEA,YACA,8BAKA,8BACA,WACA,mBAEA,yBAGA,6CACA,+BACA,0BACA,8BAYA,2BAEA,qBAEA,+BASA,SAEA,WAFA,WAGA,WACA,eACA,aACA,CACA,wBACA,eAEA,YACA,yDACA,4BAIA,QAhBA,SAgBA,GACA,0BAEA,iBACA,MACA,oBACA,gCAIA,2BACA,wBACA,oBACA,0CACA,iBACA,cACA,aACA,eAGA,iBACA,0CACA,oDACA,cACA,WACA,oBACA,cACA,oBACA,gBACA,QADA,SACA,GACA,wCACA,cACA,WACA,4BACA,gBAGA,cACA,WACA,4BACA,0BAWA,iBACA,oCAOA,UA3EA,WA6EA,gBACA,iBACA,mBACA,WAKA,aArFA,SAqFA,GACA,WACA,oCACA,OACA,YACA,yBACA,kBACA,sCACA,sCAMA,SAnGA,SAmGA,KACA,gCACA,KAGA,MAxGA,SAwGA,GAEA,+BAGA,kBA7GA,SA6GA,GACA,oBAGA,KAjHA,WAkHA,gBACA,WAIA,SAvHA,WA0HA,OACA,kCACA,6BAGA,cACA,8DAIA,QApIA,WAqIA,WACA,uBAeA,aACA,iBACA,oBACA,UAEA,YACA,SACA,CACA,+BAEA,YACA,0BACA,4CAKA,UACA,yBA9BA,eACA,SACA,CACA,+BAEA,YAEA,6CA8BA,SA9KA,WA+KA,mBACA,8BAEA,WAlLA,SAkLA,KAEA,aACA,WACA,wCACA,oBACA,UAIA,kBACA,iBACA,6BACA,sBAEA,sCACA,eACA,yGACA,oBACA,2CAEA,iBACA,0CAGA,UACA,0BAMA,QAlNA,WAmNA,wBACA,iCAKA,aAzNA,WA0NA,sBACA,8BAIA,YA/NA,WAiOA,sBAGA,wEAKA,OAzOA,SAyOA,KAOA,oBAIA,QApPA,WAqPA,WAIA,wBAEA,0BAYA,qDACA,mBACA,YACA,4BACA,0BACA,2BAfA,qDACA,mBACA,YACA,+BACA,0BACA,8B;;;;2DCndA,0wCAA4tC,eAAG,G;;;;;;;;wECA/tC,qBACA,sBACA,kD,mDACAA,EAAWC,a;;;;2DCHX,uRACIC,EADJ,kKASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,iCACZ,aAAAF,E;;;;2GCvBf,4lC;;;;2GCAA,8LAAIG,EAAa,CACfC,MAAO,WACL,OAAO,0LAITC,SAAU,WACR,OAAO,8LAKPC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,I","file":"pages/playVideo/usedDetail.js","sourcesContent":["import mod from \"-!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./usedDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./usedDetail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"txt_detail used_detail\">\r\n\t\t<view class=\"uni_vdplayer\">\r\n\t\t\t<!-- 二手商品发布人的 个人信息 -->\r\n\t\t\t<view class=\"used_head\">\r\n\t\t\t\t<view class=\"head_box\" @click=\"goAuthor\">\r\n\t\t\t\t\t<!-- 返回上一页的按钮 -->\r\n\t\t\t\t\t<text class=\"iconfont iconleft back\" @click.stop=\"back\" ></text>\r\n\t\t\t\t\t<!-- 作者头像 -->\r\n\t\t\t\t\t<view class=\"head_img\"><image :src=\"usedItem.avatarUrl\" mode=\"\"></image></view>\r\n\t\t\t\t\t<!-- 名称 -->\r\n\t\t\t\t\t<view>{{ usedItem.userName || userName }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 立即关注 -->\r\n\t\t\t\t<span @click=\"focusOn\" v-if=\"!usedItem.followed\">关注</span>\r\n\t\t\t\t<span @click=\"focusOn\" v-else>已关注</span>\r\n\t\t\t\t\t<!-- <text @tap.stop=\"collection\">收藏</text> -->\r\n\t\t\t</view>\r\n\t\t\t<!-- 内容主题 -->\r\n\t\t\t<view class=\"main\">\r\n\t\t\t\t<!-- 二手商品的价格 -->\r\n\t\t\t\t\t<view class=\"price\">\r\n\t\t\t\t\t\t￥\r\n\t\t\t\t\t\t <text class=\"num\"> {{usedItem.price}} </text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t<!-- 二手商品的描述 -->\r\n\t\t\t\t<view class=\"describe\">\r\n\t\t\t\t\t{{usedItem.goodsDescribe}}\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 二手显示图片 -->\r\n\t\t\t\t<view class=\"used_imgbox\" \r\n\t\t\t\t\tv-for=\"(item,index) in imgArr \" :key=\"index\">\r\n\t\t\t\t\t<image  \r\n\t\t\t\t\t\t@longpress=\"downImg(item)\"\r\n\t\t\t\t\t\t@tap.stop=\"detailImg\"\r\n\t\t\t\t\t\t:src=\"item\" mode=\"widthFix\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 右侧的 点赞留言 -->\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<!-- 喜欢 -->\r\n\t\t\t\t<view class=\"like icon\" @click=\"getLike\" type=\"success\">\r\n\t\t\t\t\t<!-- 不喜欢 -->\r\n\t\t\t\t\t<u-icon v-if=\"!usedItem.praseStatus\" name=\"heart\" color=\"#ffffff\" size=\"56\"></u-icon>\r\n\t\t\t\t\t<!-- 喜欢 -->\r\n\t\t\t\t\t<u-icon v-else name=\"heart-fill\" color=\"red\" size=\"56\"></u-icon>\r\n\t\t\t\t\t<view class=\"icon_num\">{{ usedItem.praseCount || '' }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 评论   点击评论显示评论弹出框-->\r\n\t\t\t\t<view class=\"comments icon\" @click=\"showPop\">\r\n\t\t\t\t\t<text class=\"iconfont iconxinxi\" ></text>\r\n\t\t\t\t\t<view class=\"icon_num\">{{ usedItem.commentNum }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 收藏 -->\r\n\t\t\t\t<view class=\"comments icon\" @tap.stop=\"collection\">\r\n\t\t\t\t<!-- \t<u-icon v-if=\"!clt\" size=\"74\" name=\"star\" color=\"white\"></u-icon>\r\n\t\t\t\t\t<u-icon v-else size=\"74\" name=\"star-fill\" color=\"red\"></u-icon> -->\r\n\t\t\t\t\t<text v-if=\"!usedItem.collectionStatus\" class=\"iconfont iconshoucang1\"  ></text>\r\n\t\t\t\t\t<text v-else class=\"iconfont iconshoucangactive\" style=\"color: red;\"  ></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 转发 -->\r\n\t\t\t\t<view class=\"forwarding icon\" @click=\"confirmShare\">\r\n\t\t\t\t\t<text class=\"iconfont iconforward-null\"></text>\r\n\t\t\t\t\t<view class=\"icon_num\">{{ usedItem.forwardCount }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 生成海报图 -->\r\n\t\t<qrcode-poster ref=\"poster\" title=\"海报标题\" subTitle=\"海报副标题\" price=\"10\" @close=\"close(index)\"></qrcode-poster>\r\n\r\n\t\t<!-- 评论弹出框 -->\r\n\t\t<uni-popup ref=\"popupComments\" type=\"share\" >\r\n\t\t\t<uni-popup-comments @changeCommentsNum=\"changeCommentsNum\" \r\n\t\t\t\ttitle='评论'  :usedId=\"id\" @select=\"select\"\r\n\t\t\t\ttype=\"used\"\r\n\t\t\t></uni-popup-comments>\r\n\t\t</uni-popup>\r\n\t\t<!-- 转发弹出框 -->\r\n\t\t<uni-popup ref=\"popupShare\" type=\"share\" ><uni-popup-share title=\"分享到\" @select=\"select\"></uni-popup-share></uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nlet timer = null;\r\n// 生成海报图进行转发\r\nimport QrcodePoster from '@/components/zhangyu-qrcode-poster/zhangyu-qrcode-poster.vue';\r\n// 引入送礼物、评论、转发弹出框\r\nimport userComment from '../../components/user-comment.vue';\r\nimport uniPopupShare from '../../components/uni-popup/uni-popup-share.vue';\r\nimport uniPopupComments from '../../components/uni-popup/uni-popup-comments.vue';\r\n\r\n// 引入双击红心特效\r\nimport likeButton from '@/components/like-button/like-button.vue';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tclt:false, //表示用户没有进行收藏\r\n\t\t\tid:'',\r\n\t\t\tusedItem:{\r\n\t\t\t\tprice:0,\r\n\t\t\t\tavatarUrl:'/static/avatarUrl.png',\r\n\t\t\t\tgoodsDescribe:''\r\n\t\t\t},  //进行修改 为 usedItem\r\n\t\t\timgArr:'', //文章的背景图\r\n\r\n\t\t\t// 当用户浏览自己的文章 时没有 头像和 姓名\r\n\t\t\tuserName:'',\r\n\t\t\tavatarUrl:'',\r\n\r\n\t\t\t// 文章的转发数\r\n\t\t\tforwardCount: 0,\r\n\t\t\t// 文章的点赞数\r\n\t\t\tpraseCount: 0,\r\n\t\t\ttimeStamp: 0,\r\n\t\t\tfocus: true, //判断是否进行关注  true 未关注  false 已关注\r\n\t\t\tcommentNum: ''\r\n\t\t};\r\n\t},\r\n\tcomponents: {\r\n\t\tuserComment,\r\n\t\tuniPopupShare,\r\n\t\tuniPopupComments,\r\n\t\tlikeButton,\r\n\t\tQrcodePoster\r\n\t},\r\n\tonLoad(option) {\r\n\t\t// 获取文章的 id\r\n\t\t// 然后在进行请求获取二手详情\r\n\t\tconsole.log('文章 option',option.txtId);\r\n\t\t// 根据文章的id 发起请求 获取文章的详情\r\n\t\tthis.id = option.usedId\r\n\t\tthis.getTxtDetail(option.usedId || 7)\r\n\t\t\r\n\r\n\t\tthis.userName = uni.getStorageSync('user_name')\r\n\t\tthis.avatarUrl = uni.getStorageSync('user_img')\r\n\t\t\r\n\t\t// 用于显示分享到朋友圈\r\n\t\tuni.showShareMenu({\r\n\t\t\twithShareTicket: true,\r\n\t\t\tmenus: ['shareAppMessage', 'shareTimeline']\r\n\t\t});\r\n\t},\r\n\tonShow() {\r\n\t\tlet _this = this \r\n\t\tconsole.log('当前作品的浏览量 onshow')\r\n\t\t// 显示当前 二手商品的 浏览量\r\n\t\tthis.api._post(\r\n\t\t\t`secondGoods/views/${_this.id}`,{},\r\n\t\t\tfunction(res) {\r\n\t\t\t\tconsole.log('当前作品的浏览量',res)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t);\r\n\t\t\r\n\t},\r\n\tonReady() {\r\n\t\tconsole.log('用户进行浏览 id', this.usedItem.id);\r\n\t\t// 页面加载完成 进行浏览记录\r\n\t\tthis.api._post(\r\n\t\t\t'history',\r\n\t\t\t{\r\n\t\t\t\titemId: this.id,\r\n\t\t\t\titemType:\"S\"\r\n\t\t\t},\r\n\t\t\tfunction(res) {\r\n\t\t\t\tconsole.log('用户进行浏览成功', res);\r\n\t\t\t}\r\n\t\t);\r\n\t},\r\n\t// 触发页面的转发事件\r\n\tonShareAppMessage: function(res) {\r\n\t\tlet _this = this;\r\n\t\tif (res.from === 'button') {\r\n\t\t\t// 来自页面内转发按钮\r\n\t\t\tconsole.log('按钮进行的转发', res);\r\n\t\t}\r\n\t\t// 调用 转发请求 记录用户转发了多少次\r\n\t\tthis.api._post(\r\n\t\t\t`secondGoods/forward/${_this.usedItem.id}`,{},function(res) {\r\n\t\t\t\tconsole.log('用户进行转发成功', res);\r\n\t\t\t\t_this.usedItem.forwardCount++;\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t// return {\r\n\t\t// \t// title: '转发到好友和群聊',\r\n\t\t// \tpath: '/pages/playVideo/playVideo?videoId=' + this.videoId\r\n\t\t// \t// imageUrl: '自定义转发图片',\r\n\t\t// \t// desc:'自定义描述'\r\n\t\t// };\r\n\t},\r\n\t// 触发页面中的分享到朋友圈的功能\r\n\tonShareTimeline: function() {\r\n\t\t// console.log('playVideo 进行转发 到朋友圈')\r\n\t\tif (res.from === 'button') {\r\n\t\t\t// 来自页面内转发按钮\r\n\t\t\tconsole.log('按钮进行的朋友圈转发', res);\r\n\t\t}\r\n\t\t// return {\r\n\t\t// \ttitle: '自定义转发标题',\r\n\t\t// \tquery: `videoId=842c376a462548f187d8c37df8f2eab7`\r\n\t\t// \t// imageUrl:'https://dss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1906469856,4113625838&fm=26&gp=0.jpg'\r\n\t\t// };\r\n\t},\r\n\r\n\tmethods: {\r\n\t\t// 对图文进行收藏操作\r\n\t\tcollection(){\r\n\t\t\tlet _this = this\r\n\t\t\tthis.api._post(\r\n\t\t\t\t'collection',\r\n\t\t\t\t{\r\n\t\t\t\t\titemId: this.usedItem.id, //被关注的 作者id\r\n\t\t\t\t\titemType: 'S', //被关注的 作者id\r\n\t\t\t\t},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\t_this.usedItem.collectionStatus = !_this.usedItem.collectionStatus\r\n\t\t\t\t\tconsole.log('进行收藏成功', res);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\tdownImg(imgsrc){\r\n\t\t\tconsole.log('用户长按图片进行下载')\r\n\t\t\t//判断用户授权\r\n\t\t\twx.downloadFile({\r\n\t\t\t  url: imgsrc,\r\n\t\t\t  success: res => {\r\n\t\t\t    console.log('downloadFile成功',res);\r\n\t\t\t    // wx.showLoading({\r\n\t\t\t    //   title: '获取资源中',\r\n\t\t\t    // })\r\n\t\t\t    wx.saveImageToPhotosAlbum({\r\n\t\t\t      filePath: res.tempFilePath,\r\n\t\t\t      success: file => {\r\n\t\t\t        console.log('saveVideoToPhotosAlbum成功',file);\r\n\t\t\t        wx.hideLoading()\r\n\t\t\t        wx.showToast({\r\n\t\t\t          title: '下载成功',\r\n\t\t\t          icon: 'none',\r\n\t\t\t        })\r\n\t\t\t      },\r\n\t\t\t      fail: err => {\r\n\t\t\t        console.log('saveVideoToPhotosAlbum失败',err)\r\n\t\t\t        if (err.errMsg === 'saveVideoToPhotosAlbum:fail auth deny') {\r\n\t\t\t          wx.showModal({\r\n\t\t\t            title: '提示',\r\n\t\t\t            content: '需要您授权保存相册',\r\n\t\t\t            showCancel: false,\r\n\t\t\t            success: data => {\r\n\t\t\t              wx.openSetting({\r\n\t\t\t                success(settingdata) {\r\n\t\t\t                  if (settingdata.authSetting['scope.writePhotosAlbum']) {\r\n\t\t\t                    wx.showModal({\r\n\t\t\t                      title: '提示',\r\n\t\t\t                      content: '获取权限成功,再次点击下载即可保存',\r\n\t\t\t                      showCancel: false,\r\n\t\t\t                    })\r\n\t\t\t                  } else {\r\n\t\t\t                    wx.showModal({\r\n\t\t\t                      title: '提示',\r\n\t\t\t                      content: '获取权限失败，将无法保存到相册哦~',\r\n\t\t\t                      showCancel: false,\r\n\t\t\t                    })\r\n\t\t\t                  }\r\n\t\t\t                },\r\n\t\t\t              })\r\n\t\t\t            }\r\n\t\t\t          })\r\n\t\t\t        }\r\n\t\t\t      }\r\n\t\t\t    })\r\n\t\t\t  },\r\n\t\t\t  fail:res=>{\r\n\t\t\t    console.log('downloadFile失败', res);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t  }\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 对当前二手图片进行详细的 浏览\r\n\t\tdetailImg() {\r\n\t\t\t// 预览图片\r\n\t\t\tuni.previewImage({\r\n\t\t\t\turls: this.imgArr,\r\n\t\t\t\tindicator: 'number',\r\n\t\t\t\tloop: true\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t// 获取 文章的详情\r\n\t\tgetTxtDetail(id){\r\n\t\t\tlet _this = this\r\n\t\t\tthis.api._get(\r\n\t\t\t\t`secondGoods/${id}`,{},\r\n\t\t\t\tfunction(res) {\r\n\t\t\t\t\tconsole.log('获取文章的详情',res)\r\n\t\t\t\t\t_this.usedItem = res.data\r\n\t\t\t\t\t_this.usedItem.price = _this.usedItem.price/100\r\n\t\t\t\t\t_this.imgArr = res.data.images.split(',')\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t},\r\n\t\t\r\n\t\t// 显示充值弹框\r\n\t\trecharge(e, done) {\r\n\t\t\tthis.$refs.popupRecharge.open();\r\n\t\t\tdone();\r\n\t\t},\r\n\t\t// 当海报图生成之后，关闭分享弹窗\r\n\t\tclose(index) {\r\n\t\t\t// console.log('海报图生成 关闭分享弹窗 this.$refs.popupShare ===>',this.$refs.popupShare)\r\n\t\t\tthis.$refs.popupShare.close();\r\n\t\t},\r\n\t\t// 控制页面评论数的改变\r\n\t\tchangeCommentsNum(num) {\r\n\t\t\tthis.commentNum += 1;\r\n\t\t},\r\n\t\t// 返回上一页面\r\n\t\tback() {\r\n\t\t\tuni.navigateBack({\r\n\t\t\t\tdelta: 1\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 点击用户头像跳转到发布者的详情页\r\n\t\tgoAuthor() {\r\n\t\t\t// 用户点击 作者头像 跳转到 作者详情页面\r\n\t\t\t// 作者详情页需要的信息\r\n\t\t\tlet item = {\r\n\t\t\t\tavatarUrl:this.usedItem.avatarUrl,\r\n\t\t\t\tuserId:this.usedItem.userId,\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: `/pages/author/author?item=${JSON.stringify(item)}`\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 判断用户是否进行关注\r\n\t\tfocusOn() {\r\n\t\t\tlet _this = this;\r\n\t\t\tif (!this.usedItem.followed) {\r\n\t\t\t\t// 用户未关注\r\n\t\t\t\t// 原先未关注 ，现在进行关注操作\r\n\t\t\t\tthis.api._post(\r\n\t\t\t\t\t'follow',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfollowedId: _this.usedItem.userId //被关注的 作者id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t// console.log('进行关注成功',res);\r\n\t\t\t\t\t\t_this.usedItem.followed = !_this.usedItem.followed;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\t// 用户已经进行了关注，此时再进行点击表示用户是否要取消关注\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\tcontent: '确认不在关注',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t// console.log('用户点击确定');\r\n\t\t\t\t\t\t\t_this.api._post(\r\n\t\t\t\t\t\t\t\t'follow',\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tfollowedId: _this.usedItem.userId //被关注的 作者id\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log('进行取消关注成功', res);\r\n\t\t\t\t\t\t\t\t\t_this.usedItem.followed = !_this.usedItem.followed;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// _this.focus = true //用户取消关注\r\n\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 控制送礼物的弹窗\r\n\t\tsendGift() {\r\n\t\t\tconsole.log('送礼物');\r\n\t\t\tthis.$refs.popupGifts.open();\r\n\t\t},\r\n\t\tselectgift(e, done) {\r\n\t\t\t// console.log('送礼物')\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '提示',\r\n\t\t\t\tcontent: `您确定赠送${e.item.text}吗`,\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t// console.log('用户点击确定',uni.getProvider,);\r\n\t\t\t\t\t\t// 然后调用支付功能进行支付操作\r\n\t\t\t\t\t\t// 微信小程序支付\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\tprovider: 'wxpay', //服务提供商 通过uni.getProvider获取\r\n\t\t\t\t\t\t\ttimeStamp: String(Date.now()), //时间戳\r\n\t\t\t\t\t\t\tnonceStr: 'A1B2C3D4E5', //随机字符串\r\n\t\t\t\t\t\t\t// 统一下单接口返回的 prepay_id 参数值，提交格式如：prepay_id=xx。\r\n\t\t\t\t\t\t\tpackage: 'prepay_id=wx20180101abcdefg',\r\n\t\t\t\t\t\t\tsignType: 'MD5', //签名算法\r\n\t\t\t\t\t\t\tpaySign: 'appid=wxd930ea5d5a258f4f&body=test&device_info=1000&mch_id=10000100&nonce_str=ibuaiVcKdpRxkhJA', //签名\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tconsole.log('success:' + JSON.stringify(res));\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\t\tconsole.log('fail:' + JSON.stringify(err));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 控制评论弹窗\r\n\t\tshowPop() {\r\n\t\t\tconsole.log('评论窗口 ref',)\r\n\t\t\tthis.$refs.popupComments.open();\r\n\t\t\t// 当用户打开评论窗口之后，当前视频暂停播放，关闭之后视频继续播放\r\n\t\t},\r\n\r\n\t\t// 控制转发弹窗\r\n\t\tconfirmShare() {\r\n\t\t\tconsole.log('转发 ref',)\r\n\t\t\tthis.$refs.popupShare.open();\r\n\t\t\t// 当打开转发窗口之后当前视频暂停，取消之后视频继续播放\r\n\t\t},\r\n\t\t//分享海报\r\n\t\tsharePoster() {\r\n\t\t\t//获取带参数二维码\r\n\t\t\tthis.is_show_model = false;\r\n\r\n\t\t\t// 将要在海报图中进行绘制的二维码传送过去\r\n\t\t\tthis.$refs.poster.showCanvas('https://oss.zhangyubk.com/cmqrcode.jpg');\r\n\t\t},\r\n\t\t/**\r\n\t\t * 转发时选择内容\r\n\t\t */\r\n\t\tselect(e, done) {\r\n\t\t\t// uni.showToast({\r\n\t\t\t// \ttitle: `您选择了第${e.index+1}项：${e.item.text}`,\r\n\t\t\t// \ticon: 'none'\r\n\t\t\t// })\r\n\t\t\t// console.log('进行转发 生成海报图分享')\r\n\t\t\t// 生成海报图进行分享\r\n\t\t\tthis.sharePoster();\r\n\t\t},\r\n\r\n\t\t// 点击红心 对文章进行点赞操作\r\n\t\tgetLike() {\r\n\t\t\tlet _this = this;\r\n\t\t\t// this.like = !this.like;\r\n\t\t\t// 视频点赞 发起请求 ，\r\n\r\n\t\t\tconsole.log('用户进行点赞操作')\r\n\t\t\t\r\n\t\t\tif(!this.usedItem.praseStatus){\r\n\t\t\t\t// 用户还没有进行点赞\r\n\t\t\t\tthis.api._post(\r\n\t\t\t\t\t`secondGoods/likeSecondGoods/${_this.usedItem.id}`,{},\r\n\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\tconsole.log('用户进行二手点赞 点亮红心',res)\r\n\t\t\t\t\t\t_this.usedItem.praseStatus = true;\r\n\t\t\t\t\t\t_this.usedItem.praseCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}else{\r\n\t\t\t\t// 用户进行了点赞操作\r\n\t\t\t\tthis.api._post(\r\n\t\t\t\t\t`secondGoods/likeSecondGoods/${_this.usedItem.id}`,{},\r\n\t\t\t\t\tfunction(res) {\r\n\t\t\t\t\t\tconsole.log('用户进行二手取消点赞',res)\r\n\t\t\t\t\t\t_this.usedItem.praseStatus = false;\r\n\t\t\t\t\t\t_this.usedItem.praseCount--;\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\npage{\r\n\tbackground-color: black;\r\n}\r\n// 二手详情页面的 样式\r\n.used_detail{\r\n\t\r\n\tcolor: white;\r\n\t// 二手商品的 发布者信息\r\n\t.used_head {\r\n\t\twidth: 100%;\r\n\t\theight: 140rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding-top: 54rpx;\r\n\t\t// padding-right: 20rpx;\r\n\t\tbackground-color: black;\r\n\t\tpadding-bottom: 20rpx;\r\n\t\t\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: start;\r\n\t\talign-items: center;\r\n\t\tposition: fixed;\r\n\t\ttop: 0rpx;\r\n\t\tleft: 20rpx;\r\n\t\tz-index: 10;\r\n\t\topacity: 1;\r\n\t\t// background-color: white;\r\n\t\t\r\n\t\t.head_box {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\t.head_img {\r\n\t\t\t\twidth: 60rpx;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tspan {\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tbackground-color: red;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tpadding: 10rpx 20rpx;\r\n\t\t\tfont-size: 20rpx;\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\tmargin-left: 20rpx;\r\n\t\t}\r\n\t}\r\n\t// 二手内容主体\r\n\t.main{\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding-top:140rpx ;\r\n\t\tpadding-right: 20rpx;\r\n\t\tpadding-bottom: 20rpx;\r\n\t\tpadding-left: 20rpx;\r\n\t\t// 二手商品的 价格显示\r\n\t\t.price{\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\t// padding: 5rpx 20rpx;\r\n\t\t\tcolor: #fc3c3b;\r\n\t\t\t.num{\r\n\t\t\t\tfont-weight: bolder;\r\n\t\t\t\tfont-size: 38rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// 二手商品的描述\r\n\t\t.describe{\r\n\t\t\tfont-size: 30rpx;\r\n\t\t\t// font-weight: bold;\r\n\t\t}\r\n\t\t//二手发布 图片\r\n\t\t.used_imgbox{\r\n\t\t\tborder-radius: 30rpx;\r\n\t\t\toverflow: hidden;\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\twidth: 100%;\r\n\t\t\timage{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// 右侧的操作栏\r\n\t.right {\r\n\t\twidth: 100rpx;\r\n\t\theight: 439rpx;\r\n\t\tbackground-color: transparent;\r\n\t\tposition: fixed;\r\n\t\tright: 23rpx;\r\n\t\ttop: 62%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-evenly;\r\n\t\talign-items: center;\r\n\t\tbutton[type='default'][plain] {\r\n\t\t\tborder: 0px solid #353535;\r\n\t\t\tbackground-color: transparent;\r\n\t\t}\r\n\t\tbutton {\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: block;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tfont-size: 20rpx;\r\n\t\t\tcolor: white;\r\n\t\t\ttext-align: center;\r\n\t\t\ttext-decoration: none;\r\n\t\t\tline-height: 30rpx;\r\n\t\t\toverflow: hidden;\r\n\t\t}\r\n\t\t.forwarding {\r\n\t\t\twidth: 90px;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t\t.icon {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 22rpx;\r\n\t\t\t.icon_num {\r\n\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n}\r\n\t\r\n\t// 调控 iconfont 图标的颜色大小\r\n\t.iconfont{\r\n\t\tcolor: white;\r\n\t\tfont-size: 65rpx;\r\n\t}\r\n\t.t-icon{\r\n\t\twidth: 27px;\r\n\t\theight: 27px;\r\n\t}\r\n\t.back{\r\n\t\tfont-size: 45rpx;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./usedDetail.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./usedDetail.vue?vue&type=style&index=0&lang=less&\"","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/playVideo/usedDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./usedDetail.vue?vue&type=template&id=8e195e62&\"\nvar renderjs\nimport script from \"./usedDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./usedDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./usedDetail.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/playVideo/usedDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../uniapp/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./usedDetail.vue?vue&type=template&id=8e195e62&\"","var components = {\n  uIcon: function() {\n    return import(\n      /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n    )\n  },\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }"],"sourceRoot":""}