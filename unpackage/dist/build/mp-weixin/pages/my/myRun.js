(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/myRun"],{"30f5":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(o("5d70"));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){o.e("components/uni-popup/uni-popup-goodsmsg").then(function(){return resolve(o("8a86"))}.bind(null,o)).catch(o.oe)},i=new n.default({key:"F4VBZ-MYUL3-QYE3K-YWSDQ-VZTDZ-6NFPZ"}),r={data:function(){return{chooseTime:[["今天","明天","后天"],["立即送货","11时","3"],["0分","10分","20分"]],goodsmsg:"请选择物品信息",id:0,title:"map",polyline:[],markers:[{iconPath:"/static/qi.png",id:0,latitude:23.099994,longitude:113.32452,width:50,height:50},{iconPath:"/static/zhong.png",id:1,latitude:"",longitude:"",width:50,height:50}],startAddress:{latitude:23.099994,longitude:113.32452,formatted_addresse:""},endAddress:{},distance:"",note:""}},components:{uniPopupGoodsmsg:u},onLoad:function(t){this.getLocation()},onShow:function(){var t=this;this.$eventHub.$on("myRun",(function(e){console.log("myRun "+e);var o=JSON.parse(e);"shou"==o.type?t.endAddress=o:t.startAddress=o,this.$eventHub.$off("myRun")}))},methods:{confirm:function(t){console.log("送货到达的时间",t)},goodsMsg:function(){console.log("物品信息"),this.$refs.popup_goodsmsg.open()},closeGoodsmsg:function(t){this.$refs.popup_goodsmsg.close(),console.log("物品的类型",t),this.goodsmsg=t},jumpnote:function(){t.navigateTo({url:"/pages/myRun/goodsnote"})},getLocation:function(e){var o=this;t.getLocation({success:function(t){o.startAddress.latitude=t.latitude,o.startAddress.longitude=t.longitude,i.reverseGeocoder({success:function(t){o.startAddress.street_number=t.result.address_component.street_number,o.startAddress.formatted_addresse=t.result.formatted_addresses.recommend,o.startAddress.province=t.result.address_component.province,o.startAddress.city=t.result.address_component.city,o.startAddress.district=t.result.address_component.district,o.startAddress.phone="",o.startAddress.latitude=t.result.location.lat,o.startAddress.longitude=t.result.location.lng,o.markers[0].latitude=t.result.location.lat,o.markers[0].longitude=t.result.location.lng}})}})},jump:function(e){"fa"==e?(console.log("fa ==>",this.fa),t.navigateTo({url:"/pages/myRun/myGoodsLoc?type=".concat(e,"&fa_msg=")+encodeURIComponent(JSON.stringify(this.startAddress))})):(console.log("shou ==>",this.shou),t.navigateTo({url:"/pages/myRun/myGoodsLoc?type=".concat(e,"&fa_msg=")+encodeURIComponent(JSON.stringify(this.endAddress))}))},stance:function(){console.log("获取起点和终点的距离");var t=this,e={latitude:t.fa.latitude,longitude:t.fa.longitude},o=[{latitude:t.shou.latitude,longitude:t.shou.longitude}];console.log("fo ==>",e,"to ==>",o),i.calculateDistance({from:e||"",to:o,success:function(t){console.log("两点之间距离 res",t)},fail:function(t){console.error(t)},complete:function(t){console.log(t)}})},getPolyline:function(){console.log("获取路线");var t=this,e={latitude:t.fa.latitude,longitude:t.fa.longitude},o={latitude:t.shou.latitude,longitude:t.shou.longitude};i.direction({mode:"driving",from:e,to:o,success:function(e){console.log("获取规划路线 res",e),t.distance=e.result.routes[0].distance;for(var o=e,n=o.result.routes[0].polyline,s=[],u=1e6,i=2;i<n.length;i++)n[i]=Number(n[i-2])+Number(n[i])/u;for(i=0;i<n.length;i+=2)s.push({latitude:n[i],longitude:n[i+1]});console.log("p1==>",s),t.polyline=[{points:s,color:"#FF0000DD",width:4,borderColor:"#000",arrowLine:!0,borderWidth:6}]},fail:function(t){console.error(t)},complete:function(t){console.log(t)}})}}};e.default=r}).call(this,o("543d")["default"])},6332:function(t,e,o){},"6b60":function(t,e,o){"use strict";var n=o("6332"),s=o.n(n);s.a},"6cba":function(t,e,o){"use strict";var n={uniPopup:function(){return Promise.all([o.e("common/vendor"),o.e("components/uni-popup/uni-popup")]).then(o.bind(null,"f48e"))}},s=function(){var t=this,e=t.$createElement;t._self._c},u=[];o.d(e,"b",(function(){return s})),o.d(e,"c",(function(){return u})),o.d(e,"a",(function(){return n}))},9397:function(t,e,o){"use strict";o.r(e);var n=o("6cba"),s=o("9ce5");for(var u in s)"default"!==u&&function(t){o.d(e,t,(function(){return s[t]}))}(u);o("6b60");var i,r=o("f0c5"),d=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"9c18f58c",null,!1,n["a"],i);e["default"]=d.exports},"9ce5":function(t,e,o){"use strict";o.r(e);var n=o("30f5"),s=o.n(n);for(var u in n)"default"!==u&&function(t){o.d(e,t,(function(){return n[t]}))}(u);e["default"]=s.a},b7ea:function(t,e,o){"use strict";(function(t){o("21be");n(o("66fd"));var e=n(o("9397"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])}},[["b7ea","common/runtime","common/vendor"]]]);