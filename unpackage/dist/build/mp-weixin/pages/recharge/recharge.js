(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/recharge/recharge"],{2644:function(e,t,n){"use strict";var r=n("f5d1"),a=n.n(r);a.a},"2f90":function(e,t,n){"use strict";(function(e){n("21be");r(n("66fd"));var t=r(n("8f92"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"3f38":function(e,t,n){"use strict";var r,a=function(){var e=this,t=e.$createElement;e._self._c},c=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return r}))},"5cee":function(e,t,n){"use strict";n.r(t);var r=n("8d8a"),a=n.n(r);for(var c in r)"default"!==c&&function(e){n.d(t,e,(function(){return r[e]}))}(c);t["default"]=a.a},"8d8a":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{user_money:0,userId:"",priceArr:[{num:10,price:1},{num:50,price:5},{num:100,price:10},{num:500,price:50},{num:1e3,price:100},{num:5e3,price:500}]}},onLoad:function(e){this.user_money=e.money,this.userId=e.userId},methods:{rechHis:function(){e.navigateTo({url:"/pages/recharge/rechHis"})},addmoney:function(t){var n=this;console.log("充值 增加 H币",this.priceArr[t].price);var r=this.floatMul(n.priceArr[t].price,100),a=this.priceArr[t].num;this.api._post("user/prepay?userId=".concat(this.userId,"&fee=").concat(r,"&hGold=").concat(a),{},(function(t){console.log("测试支付",t.data),e.requestPayment({provider:"wxpay",timeStamp:t.data.timeStamp,nonceStr:t.data.nonceStr,package:t.data.packageValue,signType:t.data.signType,paySign:t.data.paySign,success:function(e){console.log("支付接口成功 调用",e),n.getUsInfo()},fail:function(e){console.log("fail:",e)}})}),(function(e){console.log("err",e)}))},floatMul:function(e,t){var n=0,r=e.toString(),a=t.toString();try{n+=r.split(".")[1].length}catch(c){}try{n+=a.split(".")[1].length}catch(c){}return Number(r.replace(".",""))*Number(a.replace(".",""))/Math.pow(10,n)},getUsInfo:function(){var t=this;e.getStorageSync("user_img")&&this.api._get("user/info",{},(function(e){console.log("获取用户当前的 H币",e),t.user_money=e.data.hgold}))}}};t.default=n}).call(this,n("543d")["default"])},"8f92":function(e,t,n){"use strict";n.r(t);var r=n("3f38"),a=n("5cee");for(var c in a)"default"!==c&&function(e){n.d(t,e,(function(){return a[e]}))}(c);n("2644");var o,u=n("f0c5"),i=Object(u["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],o);t["default"]=i.exports},f5d1:function(e,t,n){}},[["2f90","common/runtime","common/vendor"]]]);