(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/shop"],{"0141":function(e,n,t){"use strict";t.r(n);var o=t("2b97"),i=t.n(o);for(var c in o)"default"!==c&&function(e){t.d(n,e,(function(){return o[e]}))}(c);n["default"]=i.a},"1fed":function(e,n,t){"use strict";(function(e){t("21be");o(t("66fd"));var n=o(t("f6cf"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"2b97":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;o(t("65bf")),o(t("6bae"));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){t.e("components/uni-popup/uni-popup-more").then(function(){return resolve(t("db07"))}.bind(null,t)).catch(t.oe)},c=function(){t.e("components/shop-waterfall").then(function(){return resolve(t("6071"))}.bind(null,t)).catch(t.oe)},u=function(){Promise.all([t.e("common/vendor"),t.e("components/mescroll-swiper-item")]).then(function(){return resolve(t("8704"))}.bind(null,t)).catch(t.oe)},r={data:function(){return{id:"",cartGoodsCount:"",goods:[],banner:[],current:1,tabIndex:0,swiper_height:"",height:0,tabTop:0,channel:[],topics:[],newGoods:[""]}},components:{shopWaterfall:c,uniPopupMore:i,MescrollItem:u},onLoad:function(){var n=this;this.api._get("home/index",{},(function(e){console.log("请求数据",e),n.banner=e.data.banner,n.channel=e.data.channel,n.topics=e.data.topicList,n.newGoods=e.data.newGoodsList})),e.getSystemInfo({success:function(t){n.phoneHeight=t.windowHeight,console.log("用户的设备高度",t.windowHeight);var o=e.createSelectorQuery().selectAll(".height");o.boundingClientRect((function(e){e.forEach((function(e,t){n.height+=parseInt(e.height)})),n.swiper_height=n.phoneHeight-n.height,n.swiper_height=n.swiper_height+"px"})).exec()}});var t=e.createSelectorQuery().selectAll(".searchBox");t.boundingClientRect((function(e){e.forEach((function(e,t){n.height+=parseInt(e.height)})),n.tabTop=n.height})).exec()},onReady:function(){var n=this;e.getSystemInfo({success:function(t){n.phoneHeight=t.windowHeight;var o=e.createSelectorQuery().selectAll(".height");o.boundingClientRect((function(e){e.forEach((function(e,t){console.log("item",e.height),n.height+=parseInt(e.height)})),n.height=n.height+"px"})).exec()}})},onShow:function(){var e=this;this.api._get("cart/goodscount",{id:e.id},(function(n){console.log("onShow res",n.data),e.cartGoodsCount=n.data}))},methods:{more:function(){console.log("展示更多"),this.$refs.popupShare.open()},close:function(){this.$refs.popupShare.close()},currentChange:function(e){this.current=e.detail.current+1},goshopCar:function(){e.navigateTo({url:"/pages/shopcar/shopcar"})},tabtap:function(e){console.log("点击切换"),this.tabIndex=e},tabChange:function(e){this.tabIndex=e.detail.current}}};n.default=r}).call(this,t("543d")["default"])},"99ad":function(e,n,t){"use strict";var o=t("e355"),i=t.n(o);i.a},d3cc:function(e,n,t){"use strict";var o={uIcon:function(){return t.e("node-modules/uview-ui/components/u-icon/u-icon").then(t.bind(null,"66cf"))},uniPopup:function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-popup/uni-popup")]).then(t.bind(null,"f48e"))}},i=function(){var e=this,n=e.$createElement;e._self._c},c=[];t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return c})),t.d(n,"a",(function(){return o}))},e355:function(e,n,t){},f6cf:function(e,n,t){"use strict";t.r(n);var o=t("d3cc"),i=t("0141");for(var c in i)"default"!==c&&function(e){t.d(n,e,(function(){return i[e]}))}(c);t("99ad");var u,r=t("f0c5"),a=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);n["default"]=a.exports}},[["1fed","common/runtime","common/vendor"]]]);