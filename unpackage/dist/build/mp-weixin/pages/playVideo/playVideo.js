(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/playVideo/playVideo"],{"372f":function(e,n,o){"use strict";(function(e){o("21be");t(o("66fd"));var n=t(o("8858"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("543d")["createPage"])},3787:function(e,n,o){"use strict";o.r(n);var t=o("41e9"),i=o.n(t);for(var s in t)"default"!==s&&function(e){o.d(n,e,(function(){return t[e]}))}(s);n["default"]=i.a},"41e9":function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=null,i=function(){o.e("components/user-comment").then(function(){return resolve(o("5541"))}.bind(null,o)).catch(o.oe)},s=function(){o.e("components/uni-popup/uni-popup-share").then(function(){return resolve(o("daf5"))}.bind(null,o)).catch(o.oe)},c=function(){o.e("components/uni-popup/uni-popup-comments").then(function(){return resolve(o("0ca6"))}.bind(null,o)).catch(o.oe)},u=function(){o.e("components/uni-popup/uni-popup-gifts").then(function(){return resolve(o("0b1d"))}.bind(null,o)).catch(o.oe)},l={data:function(){return{videoData:[{src:"https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-01.mp4"},{src:"https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-02.mp4"},{src:"https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-03.mp4"},{src:"https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-01.mp4"},{src:"https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-02.mp4"},{src:"https://img.cdn.aliyun.dcloud.net.cn/guide/uniapp/hellouniapp/hello-nvue-swiper-vertical-03.mp4"}],videoIndex:0,isPlay:!0,clickNum:0,btnShow:!1,like:!1,show_pop:!1,videoContextList:"",focus:!0}},components:{userComment:i,uniPopupShare:s,uniPopupComments:c,uniPopupGifts:u},onLoad:function(e){console.log("onload option",e)},onReady:function(){console.log("播放 onReady"),this.init(),this.videoContext=e.createVideoContext("myVideo0"),console.log("video onready",this.videoContext),this.videoContext.play()},onShareAppMessage:function(e){return console.log("playVideo 进行转发 设置转发内容"),"button"===e.from&&console.log("按钮进行的转发",e),{path:"/pages/playVideo/playVideo?video_id=".concat(123)}},methods:{back:function(){console.log("返回上一级页面"),e.navigateBack({delta:1})},goAuthor:function(){e.navigateTo({url:"/pages/author/author"})},focusOn:function(){var n=this;this.focus?this.focus=!1:e.showModal({content:"确认不在关注",success:function(e){e.confirm?(console.log("用户点击确定"),n.focus=!0):e.cancel&&console.log("用户点击取消")}})},init:function(){this.videoContextList=[];for(var n=0;n<this.videoData.length;n++)this.videoContextList.push(e.createVideoContext("myVideo"+n,this))},handleSlider:function(e){var n=e.detail.current;console.log("videoIndex",this.videoIndex),this.videoIndex>=0&&(this.videoContextList[this.videoIndex].pause(),this.videoContextList[this.videoIndex].seek(0),this.isPlay=!1),n===this.videoIndex+1?(this.videoContextList[this.videoIndex+1].play(),this.isPlay=!0):n===this.videoIndex-1&&(this.videoContextList[this.videoIndex-1].play(),this.isPlay=!0),this.videoIndex=n},play:function(){console.log("播放 play"),this.isPlay=!0},pause:function(e){console.log("暂停 pause"),this.videoContextList[e].pause(),this.videoContext.pause(),this.isPlay=!1},handleClicked:function(e){var n=this;console.log("点击播放第"+e+"个视频");var o=this.videoContextList[e];t&&clearTimeout(t),this.clickNum++,t=setTimeout((function(){n.clickNum>=2?(console.log("双击视频 进入全屏"),o.requestFullScreen()):(console.log("单击视频"),n.btnShow=!0,n.isPlay?(console.log("暂停"),n.isPlay=!1,o.pause()):(o.play(),console.log("播放"),n.isPlay=!0,setTimeout((function(){n.btnShow=!1}),1e3))),n.clickNum=0}),300)},handleIsLike:function(e){var n=this.vlist;n[e].islike=!n[e].islike,this.vlist=n},sendGift:function(e){console.log("送礼物",e),this.$refs.popupGifts[this.videoIndex].open()},selectgift:function(n,o){console.log("送礼物"),e.showModal({title:"提示",content:"您确定赠送".concat(n.item.text,"吗"),success:function(n){n.confirm?(console.log("用户点击确定",e.getProvider),e.requestPayment({provider:"wxpay",timeStamp:String(Date.now()),nonceStr:"A1B2C3D4E5",package:"prepay_id=wx20180101abcdefg",signType:"MD5",paySign:"appid=wxd930ea5d5a258f4f&body=test&device_info=1000&mch_id=10000100&nonce_str=ibuaiVcKdpRxkhJA",success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail:"+JSON.stringify(e))}})):n.cancel&&console.log("用户点击取消")}})},showPop:function(){console.log("ref",this.$refs),this.$refs.popupComments[this.videoIndex].open()},confirmShare:function(){this.$refs.popupShare[this.videoIndex].open()},select:function(e,n){console.log("进行转发"),this.$refs.popupShare[this.videoIndex].open(),n()},getLike:function(){this.like=!this.like},change:function(e){console.log("popup "+e.type+" 状态",e.show);var n=this.videoContextList[this.videoIndex];e.show?(this.isPlay=!1,n.pause()):(this.isPlay=!0,n.play(),"share"==e.type&&(this.isPlay=!1))}}};n.default=l}).call(this,o("543d")["default"])},"6e2a":function(e,n,o){"use strict";var t=o("bea6"),i=o.n(t);i.a},8858:function(e,n,o){"use strict";o.r(n);var t=o("d0b3"),i=o("3787");for(var s in i)"default"!==s&&function(e){o.d(n,e,(function(){return i[e]}))}(s);o("6e2a");var c,u=o("f0c5"),l=Object(u["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],c);n["default"]=l.exports},bea6:function(e,n,o){},d0b3:function(e,n,o){"use strict";var t={uniPopup:function(){return Promise.all([o.e("common/vendor"),o.e("components/uni-popup/uni-popup")]).then(o.bind(null,"f48e"))}},i=function(){var e=this,n=e.$createElement;e._self._c},s=[];o.d(n,"b",(function(){return i})),o.d(n,"c",(function(){return s})),o.d(n,"a",(function(){return t}))}},[["372f","common/runtime","common/vendor"]]]);