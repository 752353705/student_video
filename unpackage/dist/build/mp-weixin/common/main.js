(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"0b97":function(e,n,t){"use strict";t.r(n);var o=t("530c");for(var c in o)"default"!==c&&function(e){t.d(n,e,(function(){return o[e]}))}(c);t("d0ab");var u,i,a,r,l=t("f0c5"),s=Object(l["a"])(o["default"],u,i,!1,null,null,null,!1,a,r);n["default"]=s.exports},2022:function(e,n,t){"use strict";(function(e){t("21be");var n=i(t("66fd")),o=i(t("0b97")),c=i(t("8630")),u=t("bf06");function i(e){return e&&e.__esModule?e:{default:e}}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.default.use(c.default);var s=function(){Promise.all([t.e("common/vendor"),t.e("components/mescroll-uni/mescroll-body")]).then(function(){return resolve(t("7199"))}.bind(null,t)).catch(t.oe)},f=function(){Promise.all([t.e("common/vendor"),t.e("components/mescroll-uni/mescroll-uni")]).then(function(){return resolve(t("78cf"))}.bind(null,t)).catch(t.oe)};n.default.component("mescroll-body",s),n.default.component("mescroll-uni",f);var p=function(){Promise.all([t.e("common/vendor"),t.e("components/uni-popup/uni-popup")]).then(function(){return resolve(t("f48e"))}.bind(null,t)).catch(t.oe)};n.default.component("uniPopup",p);var d=function(){t.e("components/uni-popup/uni-popup-dialog").then(function(){return resolve(t("5281"))}.bind(null,t)).catch(t.oe)};n.default.component("uniPopupDialog",d);var b=function(){t.e("components/cCircle").then(function(){return resolve(t("d347"))}.bind(null,t)).catch(t.oe)};n.default.component("cCircle",b),n.default.prototype.api=u.api,n.default.prototype.$eventHub=new n.default,n.default.config.productionTip=!1,o.default.mpType="app";var g=new n.default(r({},o.default));e(g).$mount()}).call(this,t("543d")["createApp"])},"530c":function(e,n,t){"use strict";t.r(n);var o=t("d106"),c=t.n(o);for(var u in o)"default"!==u&&function(e){t.d(n,e,(function(){return o[e]}))}(u);n["default"]=c.a},ba2c:function(e,n,t){},d0ab:function(e,n,t){"use strict";var o=t("ba2c"),c=t.n(o);c.a},d106:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;o(t("3b12"));function o(e){return e&&e.__esModule?e:{default:e}}var c=t("763d"),u=c.reactive,i={data:function(){return{timeout:6e4,timeoutobj:null}},onLaunch:function(){this.globalData=u(this.globalData),console.log("小程序进行强制更新");var n=e.getUpdateManager();n.onCheckForUpdate((function(e){console.log("版本是否需要进行更新",e.hasUpdate)})),n.onUpdateReady((function(e){n.applyUpdate()})),n.onUpdateFailed((function(n){e.showToast({title:"小程序更新失败",duration:2e3})})),this.checkOpenSocket()},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")},methods:{settabbarbadge:function(){e.setTabBarBadge({index:2,text:"10"})},cleartabbarbadge:function(){e.removeTabBarBadge({index:2,success:function(){console.log("清除tabbar 下角标")},fail:function(e){console.log("清除角标失败",e)}})},checkOpenSocket:function(){var n=this;e.sendSocketMessage({data:"ping",success:function(e){},fail:function(e){n.openConnection()}})},openConnection:function(){e.closeSocket(),e.connectSocket({url:this.$SOCKTURL,method:"POST",success:function(e){console.log("连接成功 connectSocket=",e)},fail:function(e){console.log("连接失败 connectSocket=",e)}}),e.onSocketOpen((function(e){console.log("连接成功",e)})),this.onSocketMessage(2)},onSocketMessage:function(){var n=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.timeout=6e4,this.timeoutObj=null,e.onSocketMessage((function(o){var c=o.data;if(c){var u=JSON.parse(c);if("init"===u.type&&2===t){var i=u.client_id,a=e.getStorageSync("userInfo"),r={client_id:i,userId:a};e.request({url:"htpp:/localhost:8080/v2/conference/user_binding'",data:r,success:function(e){200===e.statusCode&&n.reset()}}),n.$API.get("conference/gateway_user_binding",r,3).then((function(e){1===e.status?n.reset():0===e.status&&console.log(e.errors[0])}))}}n.getSocketMsg(o.data)}))},getSocketMsg:function(e){console.log("监听到服务器消息 reData=",e);var n=JSON.parse(e);if("notice"===n.type){console.log(n);n.time}console.log("app onMessage=",e)},reset:function(){clearInterval(this.timeoutObj),this.start()},start:function(){var n=this;this.timeoutObj=setInterval((function(){e.sendSocketMessage({data:"ping",success:function(e){console.log("连接中....")},fail:function(e){console.log("连接失败重新连接...."),n.openConnection()}})}),this.timeout)}}};n.default=i}).call(this,t("543d")["default"])}},[["2022","common/runtime","common/vendor"]]]);